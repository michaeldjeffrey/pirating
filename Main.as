package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.display.DisplayObject;	import flash.display.DisplayObjectContainer;	import flash.display.Shape;		public class Main extends MovieClip {				//set singleton		private static var _instance:Main;		public static function get instance():Main{return _instance;}				//initialize variables		public var govA:GovAgent;		public var fish:Fish;		public var govAgentArray:Array = new Array();		public var selectedFish:DisplayObject;		public var fishingLine:Shape;		public var fishCaught:Boolean = false;						public function Main() {			_instance = this;						for(var i:int = 0; i < 3; i++){				fish = new Fish();				fish.gotoAndStop(i + 1);				addChild(fish);			}						this.addEventListener("enterFrame", onEnterFrame);		}				public function onEnterFrame(event:Event){				for(var bg:int = 0; bg < govAgentArray.length; bg++){					if(fishingLine.hitTestObject(govAgentArray[bg])){						//trace(fishingLine.hitTestObject(govAgentArray[bg]));						gotoAndStop(5);				}			}			var fishlineX = boat.boat_inside.x+312;			var fishlineY = (boat.boat_inside.y)*-1;			// Generate bad guys			//  if less then 8 exist already			if(fishCaught == true){				if(Math.random() < 0.05 && govAgentArray.length < 8){					//decide direction of agent					if(Math.random() < 0.5){						//agent going right						govA = new GovAgent(1);						addChild(govA);					} else {						//agent going left						govA = new GovAgent(-1);						addChild(govA);					}					//add agent to array					govAgentArray.push(govA);				}			}			if(this.getChildByName("fishingLine")){				fishingLine.graphics.clear();				fishingLine.graphics.lineStyle(1, 0x000000, 1);				fishingLine.graphics.moveTo(fishlineX, fishlineY);				fishingLine.graphics.curveTo((fishlineX+selectedFish.x)/2+20, (fishlineY+selectedFish.y)/2+20, selectedFish.x, selectedFish.y);				//fishingLine.graphics.endFill();			} 		}		public function fireLine(o:DisplayObject){			fishCaught = true;			//make into a fishing line object			// attach the tip to the sword of the pirate			// the other end to the fish you click			// on redraw method			if(!this.getChildByName("fishingLine")){				fishingLine = new Shape();				fishingLine.graphics.lineStyle(1, 0x000000, 1);				fishingLine.graphics.moveTo((boat.x)+560, boat.y+150);				fishingLine.graphics.curveTo((boat.x+o.x), (boat.y+o.y), o.x, o.y);				//fishingLine.graphics.endFill();				fishingLine.name = 'fishingLine';				addChild(fishingLine);				selectedFish = o;			}		}	}}