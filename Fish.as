package  {		import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.display.*;	import flash.geom.Point;			public class Fish extends MovieClip {		var count = 1;		var minX:int = 50;		var maxX:int = 500;		var minY:int = 180;		var maxY:int = 350;			var fishX:int;		var fishCaught:Boolean = false;		var speed = (Math.floor(Math.random() * (100 - 40)) + 40)/100;				public function Fish() {			// constructor code			x = fishX = (Math.floor(Math.random() * (maxX - minX)) + minX);			y = (Math.floor(Math.random() * (maxY - minY)) + minY);									if(fishX > 275){				//face left				scaleX *= -1;				speed *= -1;			}			addEventListener("enterFrame", onEnterFrame);			addEventListener(MouseEvent.CLICK, clicked);		} // END MAIN FUNCTION				public function onEnterFrame(ev:Event){			if(fishCaught == false){				if(x <= 50 || x >= 500){					//switch directino of fish if it gets to the edge of the screen					scaleX *= -1;					speed *= -1;				}//end if				x += speed;			} else {				//fish is caught				var angle = getRotationAngle(this.parent.getChildByName('boat'), this);				var dir = Math.atan2(this.parent.getChildByName('boat').y-y, this.parent.getChildByName('boat').x-x)*180/Math.PI;				if(scaleX == -1){					this.rotation = angle;					x -= Math.cos(dir*Math.PI/180)*speed/1.3;					y -= Math.sin(dir*Math.PI/180)*speed/1.3;				} else {					this.rotation = angle*-1;					x += Math.cos(dir*Math.PI/180)*speed/1.3;					y += Math.sin(dir*Math.PI/180)*speed/1.3;				} // end if / else			} // end if / else		} // end function		public function clicked(e:MouseEvent){			Main.instance.fireLine(this);			fishCaught = true;		}		public function getRotationAngle(obj1:Object, obj2:Object):Number {           			var dx:Number = obj2.x - obj1.x;			var dy:Number = obj2.y - obj1.y;			var angle:Number = Math.atan2(dy,dx)/Math.PI*180;			return angle;		}	}}